<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GST TAX INVOICE - S.B. ENTERPRISES</title>
    <style>
        :root {
            --bg1: #0f2027;
            --bg2: #203a43;
            --bg3: #2c5364;
            --card: rgba(16, 18, 24, 0.88);
            --card-strong: rgba(16, 18, 24, 0.96);
            --line: #234b57;
            --glow: #00ffd5;
            --text: #e9f5f4;
            --muted: #a7c7c5;
            --accent1: #00c6ff;
            --accent2: #0072ff;
            --container-padding: 32px;
            --container-padding-mobile: 10px;
            --bottom-gap: 32px;
            --input-pad: 7px 10px;
        }

        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
            color: var(--text);
            background:
                radial-gradient(1200px 800px at 10% 0%, rgba(0, 255, 213, .12), transparent 60%),
                radial-gradient(900px 600px at 100% 20%, rgba(0, 183, 255, .11), transparent 60%),
                linear-gradient(135deg, var(--bg1), var(--bg2) 45%, var(--bg3));
            min-width: 300px;
        }

        .bill-container {
            max-width: 1280px;
            min-height: 96vh;
            margin: 0 auto;
            background: var(--card);
            border: 1px solid rgba(0, 255, 213, 0.10);
            border-radius: 18px;
            padding: var(--container-padding);
            box-shadow: 0 0 34px rgba(0, 255, 213, .17), inset 0 0 16px rgba(0, 255, 213, .11);
            display: flex;
            flex-direction: column;
        }

        .invoice-head {
            text-align: center;
            margin-bottom: 18px;
        }

        .party-section {
            font-size: 15px;
            margin-bottom: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .party-box {
            flex: 1;
            min-width: 260px;
            background: var(--card-strong);
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 14px 16px 10px 16px;
        }

        .party-box label {
            font-size: 13px;
            color: var(--muted);
            margin-right: 6px;
        }

        input[type="text"],
        input[type="number"],
        input[type="date"] {
            background: rgba(0, 0, 0, 0.09);
            border: 1px solid var(--line);
            outline: none;
            color: var(--text);
            font-size: 16px;
            padding: var(--input-pad);
            border-radius: 7px;
            margin: 2px 0;
            width: 96%;
            transition: border 0.13s, background 0.14s;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        input[type="date"]:focus {
            border: 1.5px solid var(--glow);
            background: rgba(0, 255, 213, 0.08);
        }

        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"] {
            -moz-appearance: textfield;
        }

        .col-party {
            width: 99%;
        }

        .bill-table-container {
            width: 100%;
            overflow-x: auto;
            margin-bottom: 16px;
        }

        table.bill-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 8px;
            background: rgba(8, 10, 14, .5);
            border-radius: 16px;
            border: 1px solid var(--line);
            min-width: 800px;
        }

        th,
        td {
            border-bottom: 1px solid var(--line);
            padding: 8px 6px;
            text-align: center;
            font-size: 15px;
        }

        th {
            background: rgba(0, 200, 200, .09);
            color: #7fffd4;
            font-weight: 700;
            letter-spacing: 1.2px;
        }

        td {
            vertical-align: middle;
        }

        .col-desc {
            text-align: left;
        }

        .bill-table input[type=text],
        .bill-table input[type=number] {
            text-align: center;
            font-size: 15px;
            background: none;
            padding: 7px 5px;
            width: 99%;
            border: none;
            background: transparent;
        }

        .col-desc input {
            text-align: left;
        }

        .btn-mini {
            background: linear-gradient(45deg, var(--accent1), var(--accent2));
            border: none;
            color: #fff;
            padding: 7px 16px;
            border-radius: 7px;
            cursor: pointer;
            transition: transform .08s, box-shadow .2s;
            font-size: 15px;
            font-weight: 500;
            margin: 2px 0;
            box-shadow: 0 2px 10px 0 rgba(0, 200, 245, .07);
        }

        .btn-mini:hover {
            box-shadow: 0 0 17px #00ffd5cc;
            transform: scale(1.03);
        }

        .btn-add {
            margin: 10px 0 0 0;
            display: block;
            width: 160px;
            font-size: 16px;
        }

        .bottom-bar {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 30px;
            margin-top: 32px;
            margin-bottom: var(--bottom-gap);
        }

        .in-words-block {
            min-width: 330px;
            max-width: 40vw;
            margin-bottom: 20px;
            color: var(--muted);
            font-size: 15.5px;
            font-style: italic;
            border: 1px solid var(--line);
            border-radius: 12px;
            background: rgba(8, 10, 14, 0.18);
            padding: 18px 24px 14px 17px;
            box-shadow: 0 1px 14px 0 rgba(0, 255, 213, .039);
        }

        #printBtn {
            display: block;
            background: linear-gradient(45deg, var(--accent1), var(--accent2));
            border: none;
            color: #fff;
            font-weight: bold;
            font-size: 17px;
            margin: 12px 2px 0 0;
            padding: 10px 30px;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 2px 10px 0 rgba(0, 200, 245, .11);
            letter-spacing: 0.2px;
            transition: box-shadow 0.13s, transform .13s;
        }

        #printBtn:hover {
            transform: scale(1.03);
            box-shadow: 0 0 15px #00ffd5cc;
        }

        .summary-bot {
            min-width: 340px;
            text-align: right;
            flex: 1 1 340px;
        }

        .summary-bot table {
            width: auto;
            float: right;
            background: transparent;
            border: none;
            margin-top: 0;
            margin-bottom: 4px;
        }

        .summary-bot td {
            border: none;
            padding: 6px 12px;
            font-size: 15.5px;
            color: #e9f5f4;
            white-space: nowrap;
        }

        .summary-label {
            text-align: right;
            min-width: 130px;
            color: var(--muted);
        }

        .summary-value {
            text-align: left;
            min-width: 120px;
            font-weight: 600;
            color: #7fffd4;
            font-size: 16px;
        }

        .grand-row td {
            color: #7fffd4;
            font-weight: bold;
            font-size: 18px;
        }

        ::-webkit-scrollbar {
            height: 9px;
            background: #1b3440;
        }

        ::-webkit-scrollbar-thumb {
            background: #25798e;
        }

        @media (max-width: 900px) {
            .bill-container {
                padding: 9px;
            }

            .party-section {
                flex-direction: column;
                gap: 12px;
            }

            th,
            td {
                font-size: 12px;
                padding: 5px;
            }

            .summary-bot table td {
                font-size: 13px;
            }

            .summary-label {
                min-width: 72px;
            }

            .bottom-bar {
                gap: 12px;
            }

            .in-words-block {
                min-width: 0;
                max-width: 100vw;
            }
        }

        @media (max-width: 600px) {
            .party-section {
                gap: 8px;
            }

            .bill-container {
                padding: var(--container-padding-mobile);
            }

            .in-words-block {
                font-size: 13px;
                padding: 10px 7px;
            }

            .summary-label,
            .summary-value {
                min-width: 70px;
                font-size: 12.5px;
            }

            .bottom-bar {
                flex-direction: column;
                margin-bottom: var(--container-padding-mobile);
            }
        }

        @media print {

            body,
            .bill-container {
                background: #fff !important;
                box-shadow: none !important;
            }

            .party-box,
            .bill-container,
            .bottom-bar,
            th,
            td,
            .in-words-block,
            .summary-bot table {
                background: #fff !important;
                color: #222 !important;
                border-color: #888 !important;
                box-shadow: none !important;
            }

            th {
                color: #1e1e1e !important;
            }

            .btn-mini,
            .btn-add,
            #printBtn {
                display: none !important;
            }

            input,
            select,
            textarea {
                border: none !important;
                background: none !important;
                box-shadow: none !important;
                color: #222 !important;
                outline: 0 !important;
            }

            input[type="date"]::-webkit-input-placeholder {
                color: transparent;
            }

            input:focus {
                outline: none;
            }

            .party-section,
            .bottom-bar {
                page-break-inside: avoid;
            }

            .bill-table-container,
            .bill-table {
                page-break-inside: avoid;
            }

            /* Enforce 25 visible rows per print page A4 */
            .bill-table tbody tr {
                height: 24px;
                min-height: 24px;
            }

            .bill-table tbody {
                max-height: 600px;
            }
        }
    </style>
</head>

<body>
    <div class="bill-container">
        <div class="invoice-head">
            <div style="font-size:18px;font-weight:500;">
                <span>TAX INVOICE</span>
            <h1 style="margin:6px 0 3px;letter-spacing:2px;font-size:1.7em;color:#7fffd4;text-shadow:0 0 8px #00ffd5cc">
                M/S. SRI BRUNDABAN ENTERPRISES</h1>
            
            </div>
            <div style="font-size:13px;color:#a7c7c5;margin:2px 0 0;">
                GROUND FLOOR OF HOTEL RAJSHREE PALACE, BALIMELA BY PASS CANAL ROAD, MALKANGIRI, ODISHA, PIN: 764045<br>
                GSTIN: <b>21ADKPC5405A1ZI</b> &nbsp; Email: <span style="font-size:12px;">sbe.rayagada@gmail.com</span>
            </div>
            <div style="font-size: 13px;margin-top:4px;">Cell: 8249252619, 9438265976, 9437094667</div>
        </div>
        <div class="party-section">
            <div class="party-box">
                <label for="partyName"><b>To Party:</b></label>
                <input type="text" id="partyName" class="col-party" placeholder="Full Party Name" autocomplete="off" />
                <label for="partyMob">Mob:</label>
                <input type="text" id="partyMob" placeholder="Mobile No." autocomplete="off" />
            </div>
            <div class="party-box">
                <label for="invNo"><b>Invoice No.</b></label>
                <input type="text" id="invNo" style="width:80px;" placeholder="No." autocomplete="off" />
                <br>
                <label for="invDate"><b>Date</b></label>
                <input type="date" id="invDate" style="width:170px;" />
            </div>
        </div>
        <div class="bill-table-container">
            <table class="bill-table" id="billTable">
                <thead>
                    <tr>
                        <th>Sl.</th>
                        <th class="col-desc">DESCRIPTION</th>
                        <th>MRP</th>
                        <th>Qty</th>
                        <th>Discount&nbsp;%</th>
                        <th>Rate</th>
                        <th>Amount</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="billBody">
                </tbody>
            </table>
            <button class="btn-mini btn-add" onclick="addRow()">+ Add Item</button>
        </div>
        <div class="bottom-bar">
            <div class="in-words-block" id="in-words">Rupees in Words:</div>
            <div class="summary-bot">
                <table>
                    <tr>
                        <td class="summary-label">Total</td>
                        <td class="summary-value" id="sum-total">₹0.00</td>
                    </tr>
                    <tr>
                        <td class="summary-label">
                            Extra Discount %:
                            <input id="extraDiscountPercent" type="number" min="0" max="100" step="0.01" value="0"
                                style="width:55px; background:rgba(255,255,255,.06); border:1px solid var(--line); color:var(--text); border-radius:6px; padding:0 6px;"
                                oninput="recalcBill()" />
                        </td>
                        <td class="summary-value" id="sum-extra-discount">- ₹0.00</td>
                    </tr>
                    <tr>
                        <td class="summary-label">Less Discount</td>
                        <td class="summary-value" id="sum-discount">₹0.00</td>
                    </tr>
                    <tr>
                        <td class="summary-label">Add CGST @ 6%</td>
                        <td class="summary-value" id="sum-cgst">₹0.00</td>
                    </tr>
                    <tr>
                        <td class="summary-label">Add SGST @ 6%</td>
                        <td class="summary-value" id="sum-sgst">₹0.00</td>
                    </tr>
                    <tr class="grand-row">
                        <td class="summary-label">Grand Total</td>
                        <td class="summary-value" id="sum-grand">₹0.00</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <script>
        const billBody = document.getElementById('billBody');
        const sumTotal = document.getElementById('sum-total');
        const sumExtraDiscount = document.getElementById('sum-extra-discount');
        const sumDiscount = document.getElementById('sum-discount');
        const sumCGST = document.getElementById('sum-cgst');
        const sumSGST = document.getElementById('sum-sgst');
        const sumGrand = document.getElementById('sum-grand');
        const inWords = document.getElementById('in-words');
        const extraDiscountInput = document.getElementById('extraDiscountPercent');
        const DISCOUNT_FRACTION = 12 / 112;

        // In Words logic
        function rupeesInWords(num) {
            if (isNaN(num) || num <= 0) return "";
            const a = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine', 'Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];
            const b = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];
            if ((num = num.toString()).length > 9) return 'overflow';
            let n = ('000000000' + num).substr(-9).match(/.{1,2}/g);
            let str = '';
            str += (n[0] != 0) ? (a[Number(n[0])] || b[n[0][0]] + ' ' + a[n[0][1]]) + 'Crore ' : '';
            str += (n[1] != 0) ? (a[Number(n[1])] || b[n[1][0]] + ' ' + a[n[1][1]]) + 'Lakh ' : '';
            str += (n[2] != 0) ? (a[Number(n[2])] || b[n[2][0]] + ' ' + a[n[2][1]]) + 'Thousand ' : '';
            str += (n[3] != 0) ? (a[Number(n[3])] || b[n[3][0]] + ' ' + a[n[3][1]]) + 'Hundred ' : '';
            str += (n[4] != 0) ? ((str != '') ? 'and ' : '') + (a[Number(n[4])] || b[n[4][0]] + ' ' + a[n[4][1]]) : '';
            return `Rupees ${str.trim()} only`;
        }
        // Add item row logic with focus
        function addRow(focusDesc = true) {
            let rowCount = billBody.rows.length;
            if (rowCount >= 25) return;
            let tr = document.createElement('tr');
            tr.innerHTML = `
        <td>${rowCount + 1}</td>
        <td class="col-desc"><input type="text" autocomplete="off"></td>
        <td><input type="number" step="0.01"></td>
        <td><input type="number" step="1" min="0"></td>
        <td><input type="number" step="0.01" value="0" min="0" max="100"></td>
        <td><input type="number" step="0.01"></td>
        <td class="calcAmt">₹0.00</td>
        <td><button class="btn-mini" onclick="removeRow(this)">🗑</button></td>
    `;
            billBody.appendChild(tr);
            attachRowEvents(tr);
            recalcBill();
            if (focusDesc !== false) setTimeout(() => tr.cells[1].querySelector('input').focus(), 10);
        }
        // Remove row logic
        function removeRow(btn) {
            btn.closest('tr').remove();
            renumberRows();
            recalcBill();
        }
        function renumberRows() {
            Array.from(billBody.rows).forEach((tr, i) => tr.cells[0].textContent = i + 1);
        }
        function attachRowEvents(tr) {
            for (let i = 1; i <= 5; i++)
                tr.cells[i].querySelector('input').oninput = recalcBill;
        }
        function initializeRows() {
            for (let i = 0; i < 6; i++) addRow(false);
        }
        initializeRows();
        Array.from(billBody.rows).forEach(attachRowEvents);

        function recalcBill() {
            let total = 0;
            for (let tr of billBody.rows) {
                let mrp = parseFloat(tr.cells[2].querySelector('input').value) || 0;
                let qty = parseFloat(tr.cells[3].querySelector('input').value) || 0;
                let discountPct = parseFloat(tr.cells[4].querySelector('input').value) || 0;
                let rate = parseFloat(tr.cells[5].querySelector('input').value) || 0;
                let effective = 0;
                if ((!rate || rate == 0) && discountPct > 0) {
                    let discount = Math.round(mrp - (mrp * discountPct / 100));
                    effective = discount * qty;
                } else if (!rate || rate == 0) {
                    effective = mrp * qty;
                } else {
                    effective = rate * qty;
                }
                tr.querySelector('.calcAmt').textContent = `₹${effective.toFixed(2)}`;
                total += effective;
            }
            sumTotal.textContent = `₹${total.toFixed(2)}`;
            let extraPercent = parseFloat(extraDiscountInput.value) || 0;
            let extraDiscount = total * (extraPercent / 100);
            sumExtraDiscount.textContent = `- ₹${extraDiscount.toFixed(2)}`;
            let discountBase = total - extraDiscount;
            let discount = discountBase * DISCOUNT_FRACTION;
            sumDiscount.textContent = `- ₹${discount.toFixed(2)}`;
            let taxable = discountBase - discount;
            let cgst = taxable * 0.06;
            let sgst = taxable * 0.06;
            sumCGST.textContent = `₹${cgst.toFixed(2)}`;
            sumSGST.textContent = `₹${sgst.toFixed(2)}`;
            let grand = taxable + cgst + sgst;
            sumGrand.textContent = `₹${grand.toFixed(2)}`;
            inWords.textContent = rupeesInWords(Math.round(grand));
        }
        recalcBill();
    </script>
</body>

</html>